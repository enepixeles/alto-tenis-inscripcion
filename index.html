<!DOCTYPE html>
<html lang="es-Cl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inscripción - Alto Tennis</title>
    
    <!-- Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome para el ícono de WhatsApp -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- Mi CSS compilado -->
    <link rel="stylesheet" href="scss/main.css">
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Anton&family=Roboto:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">
    <!-- Flatpickr (Para el calendario pro) -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/es.js"></script>

</head>
<body>

    <nav class="navbar navbar-expand-lg navbar-dark position-absolute w-100" style="background-color: transparent; z-index: 10;">
        <div class="container">
            <a class="navbar-brand" href="#">
                <img src="img/logo-alto-tennis-2025-01.png" alt="Logo Alto Tennis" class="navbar__logo">
            </a>
        </div>
    </nav>

    <header class="hero">
        <div class="container">
            <div class="row align-items-center min-vh-100 py-5">
                
                <div class="col-lg-5 text-center text-lg-start mt-5 mt-lg-0">
                    <h1 class="hero__title">INSCRÍBETE.<br>EL PARTIDO<br>COMIENZA<br>HOY.</h1>
                    <!-- Mensaje de resiliencia para ti -->
                    <p class="hero__subtitle">Tu determinación es la raqueta que golpea con fuerza cualquier obstáculo. ¡Dale con todo!</p>
                </div>

                <div class="col-lg-7 mt-4 mt-lg-0">
                    <div class="form-card shadow-lg">
                        
                        <!-- 1. VISTA DEL FORMULARIO (Se muestra al inicio) -->
                        <form id="formInscripcion">
                            <div id="formContent">
                                <h2 class="form-card__title">1. Datos del Alumno</h2>
                                
                                <input type="hidden" name="categoria" id="inputCategoria" value="Adulto">

                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label class="form-card__label">Primer Nombre</label>
                                        <input type="text" name="primer_nombre" class="form-card__input" required>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label class="form-card__label">Segundo Nombre</label>
                                        <input type="text" name="segundo_nombre" class="form-card__input">
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label class="form-card__label">Apellido Paterno</label>
                                        <input type="text" name="apellido_paterno" class="form-card__input" required>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label class="form-card__label">Apellido Materno</label>
                                        <input type="text" name="apellido_materno" class="form-card__input" required>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label class="form-card__label">RUT del Alumno</label>
                                        <input type="text" name="rut" id="inputRut" class="form-card__input" placeholder="12.345.678-9" maxlength="12" required>
                                        <div id="rutError" class="text-danger fw-bold small mt-1" style="display:none;">
                                            ⚠️ El RUT ingresado no es válido.
                                        </div>
                                        <div id="rutDuplicadoError" class="text-danger fw-bold small mt-1" style="display:none;">
                                            ⚠️ Este RUT ya se encuentra inscrito.
                                        </div>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label class="form-card__label">Sexo</label>
                                        <select name="sexo" class="form-card__input">
                                            <option value="Femenino">Femenino</option>
                                            <option value="Masculino">Masculino</option>
                                            <option value="No binario">No binario</option>
                                            <option value="Prefiero no decirlo">Prefiero no decirlo</option>
                                        </select>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label class="form-card__label">Fecha de Nacimiento</label>
                                        <input type="date" name="fecha_nacimiento" id="fechaNacimiento" class="form-card__input" required>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label class="form-card__label">Teléfono de Contacto</label>
                                        <input type="tel" name="telefono" class="form-card__input" value="+569" pattern="\+569 [0-9]{4} [0-9]{2} [0-9]{2}" maxlength="15" required>
                                    </div>
                                </div>

                                <div class="mb-3">
                                    <label class="form-card__label">Correo de contacto</label>
                                    <input type="email" name="email" class="form-card__input" placeholder="ejemplo@correo.cl" required>
                                </div>

                                <p id="avisoMenorEdad" class="small mb-3 fw-bold" style="display: none;">
                                    ⚠️ Al ser menor de edad, el correo y teléfono deben ser del apoderado.
                                </p>

                                <div class="form-card__group">
                                    <label class="form-card__label">Condición de Salud / Alergias / Tea / Tdah</label>
                                    <textarea name="salud" class="form-card__textarea" rows="2" placeholder="Ej: asma, alergias alimentarias..."></textarea>
                                </div>

                                <div id="seccionApoderado" style="display: none;">
                                    <h2 class="form-card__title mt-4">2. Datos del Apoderado</h2>                        
                                    <div class="row">
                                        <div class="col-md-6 mb-2"><input type="text" name="apoderado_primer_nombre" class="form-card__input" placeholder="Primer Nombre"></div>
                                        <div class="col-md-6 mb-2"><input type="text" name="apoderado_segundo_nombre" class="form-card__input" placeholder="Segundo Nombre"></div>
                                        <div class="col-md-6 mb-2"><input type="text" name="apoderado_paterno" class="form-card__input" placeholder="Ap. Paterno"></div>
                                        <div class="col-md-6 mb-2"><input type="text" name="apoderado_materno" class="form-card__input" placeholder="Ap. Materno"></div>
                                    </div>
                                </div>

                                <div class="form-card__commitment mt-3">
                                    <p>Al inscribirme en Alto Tennis, declaro conocer y aceptar que este es un espacio de formación deportiva, respeto y crecimiento personal. Me comprometo a respetar a compañeros, profesores y las normas del club. En el caso de alumnos menores de edad, este compromiso es asumido por su apoderado/a.</p>
                                    <div class="form-check mt-2">
                                        <input class="form-check-input" type="checkbox" id="checkCompromiso" required
                                            oninvalid="this.setCustomValidity('Debes aceptar el compromiso de Alto Tennis.')"
                                            oninput="this.setCustomValidity('')">
                                        <label class="form-check-label small fw-bold" for="checkCompromiso">Acepto este compromiso</label>
                                    </div>
                                </div>

                                <div style="display:none;"><input type="text" name="trampa_bot"></div>
                                <button type="submit" class="form-card__btn-submit mt-3">ENVIAR INSCRIPCIÓN</button>
                            </div>
                        </form>

                        <!-- 2. VISTA DE ÉXITO (Actualizada) -->
                        <div id="successContent" style="display: none; text-align: center;">
                            <!-- Cambio 1: Título en negro sólido -->
                            <h2 class="form-card__title" style="color: #000; border:none;">¡TU INSCRIPCIÓN FUE REALIZADA CON ÉXITO!</h2>
                            
                            <div class="py-4 px-2">
                                <!-- Cambio 2: Texto simplificado con horario -->
                                <p class="mb-4">Ahora, agendemos tu primera clase (sábados de 9:00 a 11:00 am)</p>
                                
                                <div class="bg-light p-3 rounded border mb-4">
                                    <input type="text" id="calendarioSabatino" class="form-control text-center mx-auto mb-3" 
                                        placeholder="Haz clic para elegir fecha" style="max-width: 280px; cursor: pointer; background: white;">
                                    
                                    <button id="btnAgendar" class="btn btn-success w-100 fw-bold py-3 mt-2">
                                        AGENDAR
                                    </button>
                                </div>
                                
                                <p class="text-muted" style="font-size: 0.75rem;">
                                    Al presionar "Agendar" se enviará un mensaje confirmando tu asistencia para la fecha seleccionada.
                                </p>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </header>

    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/app.js"></script>
</body>
</html>